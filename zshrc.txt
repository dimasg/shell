# Path to your oh-my-zsh installation.
export ZSH=$HOME/.oh-my-zsh

# Set name of the theme to load.
# Look in ~/.oh-my-zsh/themes/
# Optionally, if you set this to "random", it'll load a random theme each
# time that oh-my-zsh is loaded.
ZSH_THEME="robbyrussell"

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(encode64 git tmux)

source $ZSH/oh-my-zsh.sh

# User configuration

autoload -U zmv
autoload -U compinit && compinit

os_type=$(uname)

export PATH="$HOME/bin:$PATH"
# export MANPATH="/usr/local/man:$MANPATH"
export EDITOR=vim

# -[ history ]-
HISTFILE=~/.zsh_history
HISTSIZE=3000
SAVEHIST=2000
setopt append_history hist_ignore_all_dups hist_ignore_space autocd correct_all extendedglob

# -[ lang ]-
export LANG="ru_RU.UTF-8"
export LC_NUMERIC="C"
export LC_MESSAGES="en_US.UTF-8"
export LC_TIME="en_GB.UTF-8"

# Preferred editor for local and remote sessions
if [[ -n $SSH_CONNECTION ]]; then
	export EDITOR='vim'
else
	if [[ $os_type == 'Darwin' ]]; then
		export EDITOR='mvim'
	else
		export EDITOR='gvim'
	fi
fi

if [[ -x /usr/bin/vimpager ]]; then
	export VIMPAGER=/usr/bin/vimpager
	# github.com/rkitover/vimpager
elif [[ -x ~/bin/vimpager ]]; then
	export VIMPAGER=~/bin/vimpager
fi

# Midnight Commander chdir enhancement
if [[ -f /usr/share/mc/mc.gentoo ]]; then
	. /usr/share/mc/mc.gentoo
fi

# User specific aliases and functions
# -[ aliases ]-
alias cp='cp -i'
alias fname='find . -name '
alias git='nocorrect git'
alias git-svn='git svn'
alias grep='grep --color=auto'
alias gvim='gvim -p'
alias h='history'
alias ll='ls -l'
alias ls='ls --color=auto'
[[ $os_type == 'Darwin' ]] && alias ls='ls -G'
alias ltr='ls -ltr'
alias make='nocorrect make'
alias mv='mv -i'
alias pep8='pep8 --max-line-length=85'
alias rm='rm -i'
alias tmux='TERM=xterm-256color tmux -u'
alias vim='vim -p'
alias zmv='noglob zmv'
alias zcp='zmv -C'
alias zln='zmv -L'

if [[ -f /usr/bin/grc ]]; then
	alias cvs="grc --colour=auto cvs"
	alias cat="grc cat"
	alias diff="grc --colour=auto diff"
	alias gcc="grc --colour=auto gcc"
	alias head="grc head"
	alias log="grc --colour=auto log"
	alias make="nocorrect grc --colour=auto make"
	alias netstat="grc --colour=auto netstat"
	alias ping="grc --colour=auto ping"
	alias tail="grc tail"
	alias traceroute="grc --colour=auto traceroute"

	alias svn="grc --colour=auto svn"
	alias svnc='grc --colour=auto svn st | grep "^C"'
	alias svnd='grc --colour=auto svn diff --diff-cmd diff -x -uw'
	alias svndp='grc --colour=auto svn diff --diff-cmd /usr/bin/diff -x "-i -b"'
	alias svnst='grc --colour=auto svn st | grep -v "^?"'
	alias svnstn='grc --colour=auto svn status | grep -v "^?" | grep -v "^ M"'

	alias logc="grc cat"
	alias logt="grc tail"
	alias logh="grc head"
else
	alias svnc='svn st | grep "^C"'
	alias svnd='svn diff --diff-cmd diff -x -uw'
	alias svndp='svn diff --diff-cmd /usr/bin/diff -x "-i -b"'
	alias svnst='svn st | grep -v "^?"'
	alias svnstn='svn status | grep -v "^?" | grep -v "^ M"'
fi

# win10 enter issue
#bindkey -s "^[OM" "^J"

# vim: ts=4 sw=4 ft=zsh noet
